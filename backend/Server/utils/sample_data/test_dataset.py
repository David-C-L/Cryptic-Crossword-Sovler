test_data = [{"clue": "ask to support alternative comedy, mostly rot", "answers": ["Decompose"], "length": [9],
              "explanations": [
                  "DECOM(anagram[alternative] COMED(first letters[mostly] comedy)) +[to support] POSE=ask"]},
             {"clue": "skin disease going around english riding school", "answers": ["Manege"], "length": [6],
              "explanations": ["insert[going around] E=english into MANGE=skin disease"]},
             {"clue": "the reason a son left location", "answers": ["Score"], "length": [5],
              "explanations": ["S(first letters[left] SON=a son) + CORE=location"]},
             {"clue": "withdraw carter - about time!", "answers": ["Retract"], "length": [7],
              "explanations": ["anagram[about] CARTERT(carter + T=time)"]},
             {"clue": "Loose reconstruction of old suites", "answers": ["Dissolute"], "length": [9],
              "explanations": ["anagram[reconstruction of] OLDSUITES(old + suites)"]},
             {"clue": "university dons strike back in attacks", "answers": ["Mauls"], "length": [5],
              "explanations": ["reversal[back in] SLUAM(insert[dons] U=university into SLAM=strike)"]},
             {"clue": "Called out thanks to cast", "answers": ["Threw"], "length": [5],
              "explanations": ["homophone[called out] THROUGH=thanks to"]},
             {"clue": "part of boss-head, even money flipper", "answers": ["Shoe"], "length": [4],
              "explanations": ["SH(middle letters[part of] boss-head) + OE(even letters[money])"]},
             {"clue": "CIA involvement with nation that produces tobacco", "answers": ["Nicotiana"], "length": [9],
              "explanations": ["anagram[that produces] CIANATION(cia +[involvement with] nation)"]},
             {"clue": "fine clues sold for a pound", "answers": ["Cloudless"], "length": [9],
              "explanations": ["anagram[for a pound] CLUESSOLD(clues + sold)"]},
             {"clue": "Rule in theatre ignored", "answers": ["Reign"], "length": [5],
              "explanations": ["middle letters[in] THEATRE IGNORED(theatre + ignored)"]},
             {"clue": "scholarly head of languages brought in", "answers": ["Learned"], "length": [7],
              "explanations": ["L(first letters[head of] languages) + EARNED=brought in"]},
             {"clue": "depict bad accident without police", "answers": ["Enact"], "length": [5],
              "explanations": ["anagram[bad] ACENT(subtract[without] CID=police from accident)"]},
             {"clue": "Harry Potter film initially not as pompous", "answers": ["Selfimportant"], "length": [13],
              "explanations": ["anagram[harry] POTTERFILMNAS(potter + film + N(first letters[initially] not) + as)"]},
             {"clue": "put food in this stuff on barge at sea", "answers": ["Tuckerbag"], "length": [9],
              "explanations": ["TUCK=stuff +[on] ERBAG(anagram[at sea] barge)"]},
             {"clue": "left to invade african country with armies, not revolutionary masses",
              "answers": ["Conglomerations"], "length": [15], "explanations": [
                 "CONGLO(insert[to invade] L=left into CONGO=african country) + MERATIONS(anagram[revolutionary] NOTARMIES(not +[with] armies))"]},
             {"clue": "animal returns to grass", "answers": ["Deer"], "length": [4],
              "explanations": ["reversal[returns to] REED=grass"]},
             {"clue": "furious buccaneer deprived of power", "answers": ["Irate"], "length": [5],
              "explanations": ["subtract[deprived of] P=power from PIRATE=buccaneer"]},
             {"clue": "Body essence", "answers": ["Entity"], "length": [6], "explanations": ["essence"]},
             {"clue": "Naughty word shocked nicest boy", "answers": ["Obscenity"], "length": [9],
              "explanations": ["anagram[shocked] NICESTBOY(nicest + boy)"]},
             {"clue": "Prank from concern - terrific extremes", "answers": ["Shtik"], "length": [5],
              "explanations": ["subtract[from] C(last letters[extremes] terrific) from SHTICK=concern"]},
             {"clue": "heads turn in shock", "answers": ["Nuts"], "length": [4],
              "explanations": ["reversal[turn in] STUN=shock"]},
             {"clue": "cutting ditch next to a new junction", "answers": ["Trenchant"], "length": [9],
              "explanations": ["TRENCHA(TRENCH=ditch +[next to] a) + N=new + T=junction"]},
             {"clue": "Marched president into empty helipad", "answers": ["Hiked"], "length": [5],
              "explanations": ["insert[into] IKE=president into HD(end letters[empty] helipad)"]},
             {"clue": "Twin egg-shaped extremes of instrument", "answers": ["Wind"], "length": [4],
              "explanations": ["last letters[extremes of] TWIN EGG-SHAPED(twin + egg-shaped)"]},
             {"clue": "member warning politician pocketing millions", "answers": ["Forelimb"], "length": [8],
              "explanations": ["insert[pocketing] M=millions into FORELIB(FORE=warning + LIB=politician)"]},
             {"clue": "avoided broadcast channel", "answers": ["Ducked"], "length": [6],
              "explanations": ["homophone[broadcast] DUCT=channel"]},
             {"clue": "Bond's said to be Asian", "answers": ["Thai"], "length": [4],
              "explanations": ["homophone[said to be] TIE=bond's"]},
             {"clue": "one hundred and one late orders demanded first in fort", "answers": ["Citadel"], "length": [7],
              "explanations": [
                  "insert[in] D(first letters[first] demanded) into CITAEL(CI=one hundred and one + TAEL(anagram[orders] late))"]},
             {"clue": "Used to be clean after wiping hard", "answers": ["Was"], "length": [3],
              "explanations": ["subtract[after wiping] H=hard from WASH=clean"]},
             {"clue": "old drunkards hurl crockery", "answers": ["Tosspots"], "length": [8],
              "explanations": ["TOSS=hurl + POTS=crockery"]},
             {"clue": "improper behaviour finally stops in centre court", "answers": ["Incorrect"], "length": [9],
              "explanations": [
                  "insert[stops] R(last letters[finally] behaviour) into INCORECT(in + CORE=centre + CT=court)"]},
             {"clue": "distressed tenor given a wigging", "answers": ["Tearful"], "length": [7],
              "explanations": ["T=tenor +[given] EARFUL=a wigging"]},
             {"clue": "One involved in joint exercise", "answers": ["Wield"], "length": [5],
              "explanations": ["insert[involved in] I=one into WELD=joint"]},
             {"clue": "A quiet Italian river location may be suitable", "answers": ["Apposite"], "length": [8],
              "explanations": ["a + P=quiet + PO=italian river + SITE=location"]},
             {"clue": "Forged letters written out in bold", "answers": ["Processed"], "length": [9],
              "explanations": ["PROCESS=letters + ED(subtract[out] L(middle letters[in] bold) from LED=written)"]},
             {"clue": "notice in flying coat", "answers": ["Jacket"], "length": [6],
              "explanations": ["insert[in] ACK=notice into JET=flying"]},
             {"clue": "a zebra dropping guts, munching bitter plant", "answers": ["Azalea"], "length": [6],
              "explanations": ["insert[munching] ALE=bitter into AZA(a + ZA(end letters[dropping guts] zebra))"]},
             {"clue": "Skin somewhat ticklish, I declare", "answers": ["Hide"], "length": [4],
              "explanations": ["middle letters[somewhat] TICKLISH I DECLARE(ticklish + i + declare)"]},
             {"clue": "Regularly swore to love no-good criminal", "answers": ["Wrong"], "length": [5],
              "explanations": ["WRO(WR(even letters[swore]) +[to] O=love) + NG=no-good"]},
             {"clue": "English spirit? Little left in a Scottish place", "answers": ["Scots"], "length": [5],
              "explanations": [
                  "anagram[place] SSCOT(S(first letters[little] spirit) + SCOT(first letters[left in] SCOTTISH=a scottish))"]},
             {"clue": "In revolutionary china, run by Mao, mostly as leader", "answers": ["Organism"], "length": [8],
              "explanations": [
                  "anagram[in revolutionary] RMINGOAS(RMING(R=run +[by] MING=china) + O(last letters[mostly] mao) + as)"]},
             {"clue": "steep terrace unoccupied behind mooring area", "answers": ["Marinate"], "length": [8],
              "explanations": ["MARINA=mooring area +[behind] TE(end letters[unoccupied] terrace)"]},
             {"clue": "Fuming having lost silver wreath", "answers": ["Ring"], "length": [4],
              "explanations": ["subtract[having lost] AG=silver from RAGING=fuming"]},
             {"clue": "stronghold, one sacked in former kingdom", "answers": ["Castle"], "length": [6],
              "explanations": ["subtract[sacked in] I=one from CASTILE=former kingdom"]},
             {"clue": "companion found in oklahoma terminal", "answers": ["Mate"], "length": [4],
              "explanations": ["middle letters[found in] OKLAHOMA TERMINAL(oklahoma + terminal)"]},
             {"clue": "reported discovery, penalised", "answers": ["Fined"], "length": [5],
              "explanations": ["homophone[reported] FIND=discovery"]},
             {"clue": "Flower I planted in weedless ground", "answers": ["Edelweiss"], "length": [9],
              "explanations": ["insert[planted in] i into EDELWESS(anagram[ground] weedless)"]},
             {"clue": "more cunning times puzzle ultimately rejected", "answers": ["Extra"], "length": [5],
              "explanations": ["reversal[rejected] ARTXE(ART=cunning + X=times + E(last letters[ultimately] puzzle))"]},
             {"clue": "Old magistrate constantly returning to drink last of wine", "answers": ["Reeve"], "length": [5],
              "explanations": [
                  "insert[to drink] E(last letters[last of] wine) into REVE(reversal[returning] EVER=constantly)"]},
             {"clue": "Magnificent drink knocked back", "answers": ["Regal"], "length": [5],
              "explanations": ["reversal[knocked back] LAGER=drink"]},
             {"clue": "poorly made russian fighter returns with a bang", "answers": ["Gimcrack"], "length": [8],
              "explanations": ["GIM(reversal[returns] MIG=russian fighter) +[with] CRACK=a bang"]},
             {"clue": "servant, a sober worker, receives tip", "answers": ["Attendant"], "length": [9],
              "explanations": ["insert[receives] END=tip into ATTANT(a + TT=sober + ANT=worker)"]},
             {"clue": "cow caught fly", "answers": ["Chasten"], "length": [7], "explanations": ["C=caught + HASTEN=fly"]},
             {"clue": "saint even broke into two churches? yes, that's risky", "answers": ["Chancey"], "length": [7],
              "explanations": [
                  "insert[broke into] AN(even letters[saint]) into CHCEY(CHCE(duplicate[two] (CH=churches + CE=churches)) + Y=yes)"]},
             {"clue": "a new member returned a woman", "answers": ["Angela"], "length": [6],
              "explanations": ["a + N=new + GEL(reversal[returned] LEG=member) + a"]},
             {"clue": "after new month turned up gold moth", "answers": ["Noctua"], "length": [6],
              "explanations": ["NOCT(N=new +[after] OCT=month) + UA(reversal[turned up] AU=gold)"]},
             {"clue": "Liberal in church welcoming church's lack of restraint", "answers": ["Licence"], "length": [7],
              "explanations": ["L=liberal + ICEN(insert[welcoming] CE=church into in) + CE=church's"]},
             {"clue": "info about large valley", "answers": ["Glen"], "length": [4],
              "explanations": ["insert[about] L=large into GEN=info"]},
             {"clue": "messy bit of lung next to part of kempton", "answers": ["Unkempt"], "length": [7],
              "explanations": ["UN(middle letters[bit of] lung) +[next] KEMPT(first letters[to part of] kempton)"]},
             {"clue": "in denims regularly market vinegars", "answers": ["Eisells"], "length": [7],
              "explanations": ["insert[in] SELL=market into EIS(even letters[denims])"]},
             {"clue": "tree rings covered in acid", "answers": ["Tooart"], "length": [6],
              "explanations": ["insert[covered in] OO=rings into TART=acid"]},
             {"clue": "bird crowns at odds with backward staff", "answers": ["Condor"], "length": [6],
              "explanations": ["CON(odd letters[crowns]) + DOR(reversal[backward] ROD=staff)"]},
             {"clue": "Conspirator established a ring for revolution", "answers": ["Oates"], "length": [5],
              "explanations": ["reversal[for revolution] SETAO(SET=established + a + O=ring)"]},
             {"clue": "Do run to church", "answers": ["Fleece"], "length": [6],
              "explanations": ["FLEE=run +[to] CE=church"]},
             {"clue": "after disturbance, centre court's crowd finally gets composed again",
              "answers": ["Reconstructed"], "length": [13], "explanations": [
                 "anagram[after disturbance] CENTRECOURTSD(centre + COURTS=court's + D(last letters[finally gets] crowd))"]},
             {"clue": "learner leaves tuvalu, out touring a new island group", "answers": ["Vanuatu"], "length": [7],
              "explanations": [
                  "insert[touring] AN(a + N=new) into VUATU(anagram[out] TUVAU(subtract[leaves] L=learner from tuvalu))"]},
             {"clue": "vegetable everyone put in picture", "answers": ["Shallot"], "length": [7],
              "explanations": ["insert[put in] ALL=everyone into SHOT=picture"]},
             {"clue": "peeling paint, profit slack, upset, in a state", "answers": ["California"], "length": [10],
              "explanations": [
                  "reversal[upset in] AINROFILAC(middle letters[peeling] PAINT PROFIT SLACK(paint + profit + slack))"]},
             {"clue": "indications show surprising gains for example after recovery", "answers": ["Signage"],
              "length": [7], "explanations": [
                 "reversal[after recovery] EGANGIS(EG=for example +[show] ANGIS(anagram[surprising] gains))"]},
             {"clue": "Upset, small twin rings and knocks", "answers": ["Stonewall"], "length": [9], "explanations": [
                 "anagram[knocks] LOWLEASTN(LOWLEAST(duplicate[twin] (LOW=small + LEAST=small)) + N(middle letters[rings] and))"]},
             {"clue": "cowl without century bird", "answers": ["Cry"], "length": [3],
              "explanations": ["end letters[cowl without] century"]},
             {"clue": "suffer first signs of illness near central ugandan region", "answers": ["Sting"], "length": [5],
              "explanations": [
                  "anagram[of illness] STNGI(S(first letters[first] signs) + TNGI(middle letters[near] CENTRAL UGANDAN REGION(central + ugandan + region)))"]},
             {"clue": "Instrument made from two circles", "answers": ["Cello"], "length": [5],
              "explanations": ["anagram[made from] OCELL(duplicate[two] (O=circles + CELL=circles))"]},
             {"clue": "Wrong a lady", "answers": ["Amiss"], "length": [5], "explanations": ["a + MISS=lady"]},
             {"clue": "flyer needed by funfair manager", "answers": ["Airman"], "length": [6],
              "explanations": ["middle letters[needed by] FUNFAIR MANAGER(funfair + manager)"]},
             {"clue": "Son rejected flat", "answers": ["Squashed"], "length": [8],
              "explanations": ["S=son + QUASHED=rejected"]},
             {"clue": "extract from telegraph on iatrogenic voice loss", "answers": ["Aphonia"], "length": [7],
              "explanations": ["middle letters[extract from] TELEGRAPH ON IATROGENIC(telegraph + on + iatrogenic)"]},
             {"clue": "Following on, batting to open the day", "answers": ["Retinue"], "length": [7],
              "explanations": ["RE=on + TINUE(insert[to open] IN=batting into TUE=the day)"]},
             {"clue": "cheese found in apricot tarts", "answers": ["Ricotta"], "length": [7],
              "explanations": ["middle letters[found in] APRICOT TARTS(apricot + tarts)"]},
             {"clue": "A hand round brother, cowering", "answers": ["Afraid"], "length": [6],
              "explanations": ["insert[round] FR=brother into AAID(a + AID=hand)"]},
             {"clue": "Cancel article in disgust", "answers": ["Repeal"], "length": [6],
              "explanations": ["insert[in] A=article into REPEL=disgust"]},
             {"clue": "flightless bird caught finally in ditch", "answers": ["Moat"], "length": [4],
              "explanations": ["MOA=flightless bird + T(last letters[finally in] caught)"]},
             {"clue": "package returned has address with added detail", "answers": ["Elaborate"], "length": [9],
              "explanations": ["ELAB(reversal[returned has] BALE=package) +[with added] ORATE=address"]},
             {"clue": "bums mix for deals without energy", "answers": ["Freeloads"], "length": [9],
              "explanations": ["insert[without] E=energy into FRELOADS(anagram[mix] FORDEALS(for + deals))"]},
             {"clue": "city cad supported by mother", "answers": ["Rotterdam"], "length": [9],
              "explanations": ["ROTTER=cad +[supported by] DAM=mother"]},
             {"clue": "liberal posh wearing platinum with fancy cars to give rich people", "answers": ["Plutocrats"],
              "length": [10], "explanations": [
                 "PLUT(insert[wearing] LU(L=liberal + U=posh) into PT=platinum) +[with] OCRATS(anagram[fancy] TOCARS(to +[give] cars))"]},
             {"clue": "companion shredded corset", "answers": ["Escort"], "length": [6],
              "explanations": ["anagram[shredded] corset"]},
             {"clue": "forbid eating firm meat", "answers": ["Bacon"], "length": [5],
              "explanations": ["insert[eating] CO=firm into BAN=forbid"]},
             {"clue": "A criminal admits beginning to sell out", "answers": ["Absent"], "length": [6],
              "explanations": ["insert[admits] S(first letters[beginning to] sell) into ABENT(a + BENT=criminal)"]},
             {"clue": "Vain politician yet to be ruffled outside", "answers": ["Empty"], "length": [5],
              "explanations": ["insert[outside] MP=politician into ETY(anagram[to be ruffled] yet)"]},
             {"clue": "Choose worker's extreme measures", "answers": ["Sorts"], "length": [5],
              "explanations": ["SORT=choose + S(last letters[extreme] worker's)"]},
             {"clue": "after hint turned up, end of match had leftist outwitted", "answers": ["Euchred"], "length": [7],
              "explanations": [
                  "EUC(reversal[turned] CUE=hint) +[after] HRED(H(last letters[up end of] match) +[had] RED=leftist)"]},
             {"clue": "fulminations from brutus lost without latin in translation", "answers": ["Outbursts"],
              "length": [9], "explanations": [
                 "anagram[in translation] OSTBRUTUS(OST(subtract[without] L=latin from lost) +[from] brutus)"]},
             {"clue": "notice supervisor is going nuts at first", "answers": ["Sign"], "length": [4],
              "explanations": ["first letters[at first] SUPERVISOR IS GOING NUTS(supervisor + is + going + nuts)"]},
             {"clue": "revolutionary coming back to eat pub grub?", "answers": ["Dinner"], "length": [6],
              "explanations": ["insert[to eat] INN=pub into DER(reversal[coming back] RED=revolutionary)"]},
             {"clue": "Warm garment initially sheltering uriah's family?", "answers": ["Sheepskin"], "length": [9],
              "explanations": ["S(first letters[initially] sheltering) + HEEPS=uriah's + KIN=family"]},
             {"clue": "skin somewhat ticklish, i declare", "answers": ["Hide"], "length": [4],
              "explanations": ["middle letters[somewhat] TICKLISH I DECLARE(ticklish + i + declare)"]},
             {"clue": "maria not a fickle lover", "answers": ["Inamorata"], "length": [9],
              "explanations": ["anagram[fickle] MARIANOTA(maria + not + a)"]},
             {"clue": "man changing line around gateshead", "answers": ["Nigel"], "length": [5],
              "explanations": ["insert[around] G=gateshead into NIEL(anagram[changing] line)"]},
             {"clue": "pause at these i fancy", "answers": ["Hesitate"], "length": [8],
              "explanations": ["anagram[fancy] ATTHESEI(at + these + i)"]},
             {"clue": "decided without police act", "answers": ["Deed"], "length": [4],
              "explanations": ["subtract[without] CID=police from decided"]},
             {"clue": "Fancy popular gallery keeping racist leader in charge!", "answers": ["Intricate"], "length": [9],
              "explanations": [
                  "insert[keeping] RIC(R(first letters[leader] racist) + IC=in charge) into INTATE(IN=popular + TATE=gallery)"]},
             {"clue": "hope for high praise", "answers": ["Aspire"], "length": [6],
              "explanations": ["anagram[for high] praise"]},
             {"clue": "call for extremes of exertion before end", "answers": ["Action"], "length": [6],
              "explanations": ["ACT=end +[before] ION(last letters[for extremes of] exertion)"]},
             {"clue": "Bid for bone china cups", "answers": ["Proposal"], "length": [8],
              "explanations": ["PRO=for + POSAL(insert[cups] OS=bone into PAL=china)"]},
             {"clue": "team members chewing parsley", "answers": ["Players"], "length": [7],
              "explanations": ["anagram[chewing] parsley"]},
             {"clue": "A maiden leaves surprise new arrival, a small primate", "answers": ["Bushbaby"], "length": [8],
              "explanations": ["BUSH(subtract[leaves] AM(a + M=maiden) from AMBUSH=surprise) + BABY=new arrival"]},
             {"clue": "sport in which holder not even in the highest places", "answers": ["Athletics"], "length": [9],
              "explanations": ["insert[in which...in] HLE(odd letters[holder]) into ATTICS=the highest places"]},
             {"clue": "simple harry houdini act with steps", "answers": ["Unsophisticated"], "length": [15],
              "explanations": ["anagram[harry] HOUDINIACTSTEPS(houdini + ACTSTEPS(act +[with] steps))"]},
             {"clue": "coat and small jumper covered by an almondy snack", "answers": ["Macaroon"], "length": [8],
              "explanations": ["MAC=coat +[and] AROON(insert[covered by] ROO(abbreviation[small] jumper) into an)"]},
             {"clue": "Currency used over in Yemen or Kuwait", "answers": ["Krone"], "length": [5],
              "explanations": ["reversal[used over] ENORK(middle letters[in] YEMEN OR KUWAIT(yemen + or + kuwait))"]}, ]

CLUE_NOT_FOUND = {'clue': '', 'length': -1, 'answers': ['N/A'], 'explanations': ['Not found']}


def solve_grid_clues(dict):
    resp = {}

    for direction, queries in dict.items():
        if direction != 'grid':
            resp[direction] = {}
            for clueNumber, query in queries.items():
                clue = query['clue']
                length = query['length'][0]
                r = findClue(clue, length)
                if r == CLUE_NOT_FOUND:
                    resp[direction][clueNumber] = [{'answer': '',
                                                    'explanation': 'Could not find explanation for ' + clue}]
                else:
                    resp[direction][clueNumber] = [{'answer': a, 'explanation': e} for (a, e) in zip(r['answers'], r['explanations'])]

    return resp


def findClue(clue, length):
    for data in test_data:
        if data['clue'].lower() == clue.lower() and data['length'] == length:
            return data
    return CLUE_NOT_FOUND
